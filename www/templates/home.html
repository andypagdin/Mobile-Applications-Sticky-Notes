<style>
    #add_group__button {
        top: 0;
        left: 0;
        width: 100%;
        height: 7vh;
        position: absolute;
        z-index: 20;
        transition: .3s;
        opacity: 1;
        pointer-events: all;
        float: left;
        padding: 1vh;
        margin: 0 !important;
        border-bottom: .2vh solid #b2b2b2;
        line-height: 0;
    }
    
    #add_group__button.adding {
        opacity: 0;
        pointer-events: none;
    }
    
    #add_group__form {
        height: 0;
        top: 0;
        left: 0;
        float: left;
        width: 100%;
        position: absolute;
        z-index: 10;
        background: white;
        transition: .3s;
        opacity: 0;
        pointer-events: none;
    }
    
    #add_group__form input {
        float: left;
        position: relative;
        width: 100%;
        padding: 0 2vh;
    }
    
    #add_group__form .button-bar,
    #add_group__form .button-bar button {
        height: 7vh;
    }
    
    #add_group__form.adding {
        opacity: 1;
        pointer-events: all;
        height: auto;
    }
    
    .group_list ion-item:first-of-type {
        border-top: white !important;
    }
    
    #adding_buffer {
        width: 100%;
        height: 7.2vh;
        position: relative;
        z-index: 0;
        transition: .4s;
    }
    
    #adding_buffer.adding {
        height: 12vh;
    }
</style>
<ion-view view-title="Home">
    <ion-content>

        <ion-list show-reorder="page_data.groups.showReorder" show-delete="page_data.groups.showDelete" class="">
            <button id="add_group__button" class="button button-full" ng-click="show_add_group(true)" ng-class="{adding : page_data.adding}">
                add group
            </button>
            <div id="add_group__form" ng-class="{adding : page_data.adding}">
                <input ng-model="page_data.group_title" id="group_title" type="text" placeholder="Group Title" />
                <div class="button-bar bar-light">
                    <a class="button icon ion-ios-close-empty" ng-click="show_add_group(false,false)"></a>
                    <a class="button icon ion-ios-checkmark-empty" ng-click="create_group();show_add_group(false)"></a>
                </div>
            </div>
            <div id="adding_buffer" ng-class="{adding : page_data.adding}">></div>
            <div class="group_list" ng-repeat="(group_id, group) in page_data.groups" ng-class="{adding : page_data.adding}">

                <ion-item class="item-stable" ng-click="toggleGroup(group)" ng-class="{active: isGroupShown(group)}">
                    <i class="ion__show" class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
                    <h3 class="ion__title">{{group.title}}</h3>
                    <i class="ion__favourite" class="icon ion-star" ng-show="group.star"></i>

                    <!--edit-->
                    <ion-option-button class="button-royal" ng-click="show_add_group(true,true,group_id)">
                        <i class="ion__edit icon ion-edit"></i>
                    </ion-option-button>
                    <!--favourite-->
                    <ion-option-button class="button-energized" ng-click="favourite_group(group)">
                        <i class="icon ion-star"></i>
                    </ion-option-button>

                    <!--delete-->
                    <ion-option-button class="button-assertive" ng-click="delete_group(group_id)">
                        <i class="icon ion-minus-circled"></i>
                    </ion-option-button>

                    <!--order-->
                    <ion-reorder-button class="ion-navicon" on-reorder="order_group(group, $fromIndex, $toIndex)"></ion-reorder-button>
                </ion-item>
                <ion-item class="item-accordion" ng-repeat="pad in group.pads" ng-show="isGroupShown(group)">
                    <div class="ion__escalation" ng-class="{'black': pad.escalation == 0,'red': pad.escalation == 1, 'orange': pad.escalation == 2, 'green': pad.escalation == 3, 'grey': !pad.escalation}"></div>
                    <h5 class="ion__title">{{pad.title}}</h5>
                    <i class="ion__edit icon ion-edit" ui-sref="editPad({pad_id:'{{pad.id}}', title:'{{pad.title}}', body:'{{pad.body}}', group_id:'{{group.id}}', created_by:'{{pad.created_by}}', timestamp:'{{pad.timestamp}}'})"></i>
                </ion-item>

            </div>

        </ion-list>
        <div id="nav__bar">
            <ul>
                <li>
                    <input type="radio" name="nav" id="home" checked>
                    <div class="ripple"></div>
                    <label for="home" class="icon ion-home">
                        <p>
                            Home
                        </p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="nav" id="settings">
                    <div class="ripple"></div>
                    <label for="settings" class="icon ion-gear-b">
                        <p>
                            Settings
                        </p>
                    </label>
                </li>
            </ul>
        </div>
    </ion-content>
</ion-view>